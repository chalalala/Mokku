!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=56)}({5:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57),o=n(58),s=new(n(59).default),i=new o.default,a=new o.default;window.addEventListener("message",(function(e){if(e.source!=window)return;const t=e.data;"HOOK_SCRIPT"===t.to&&s.dispatch(t.id,t.message)}));const u=(e,t,n)=>{const r=n?i.getId():null,o={id:r,message:e,to:"CONTENT_SCRIPT",from:"HOOK_SCRIPT",extenstionName:"MOKKU",type:t};if(window.postMessage(o,"*"),null!==r)return new Promise(e=>{s.addLister(r,e)})};r.before((function(e,t){e.mokku={id:a.getId(),isMocked:!1};const n={request:{url:e.url,method:e.method},id:e.mokku.id};u(n,"LOG",!1),u(n,"QUERY",!0).then(n=>{if(n&&n.mockResponse){e.mokku.isMocked=!0;const r=n.mockResponse,o={status:r.status,text:r.response?r.response:"",type:"json",headers:{"content-type":"application/json; charset=UTF-8"}};r.delay?setTimeout(()=>{t(o)},r.delay):t(o)}else t()}).catch(()=>{console.log("something went wrong!")})})),r.after((function(e,t){var n,r;const o={request:{url:e.url,method:e.method},response:{status:t.status,response:t.text},id:null===(n=e.mokku)||void 0===n?void 0:n.id,isMocked:null===(r=e.mokku)||void 0===r?void 0:r.isMocked};u(o,"LOG",!1)}))},57:function(e,t,n){(function(n){var r;(function(o){var s,i,a,u,c,f,l,d,p,h,y,v,g,m,b,w,x,O,E,T,L,_,R,k,M,S,j=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};h=null,h="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:void 0!==n?n:window,x=h.document,d="addEventListener",l="removeEventListener",a="dispatchEvent",m="XMLHttpRequest",p=["load","loadend","loadstart"],s=["progress","abort","error","timeout"],k="undefined"!=typeof navigator&&navigator.useragent?navigator.userAgent:"",T=parseInt((/msie (\d+)/.exec(k.toLowerCase())||[])[1]),isNaN(T)&&(T=parseInt((/trident\/.*; rv:(\d+)/.exec(k.toLowerCase())||[])[1])),(S=Array.prototype).indexOf||(S.indexOf=function(e){var t,n,r;for(t=n=0,r=this.length;n<r;t=++n)if(this[t]===e)return t;return-1}),R=function(e,t){return Array.prototype.slice.call(e,t)},w=function(e){return"returnValue"===e||"totalSize"===e||"position"===e},E=function(e,t){var n;for(n in e)if(e[n],!w(n))try{t[n]=e[n]}catch(e){}return t},L=function(e){return void 0===e?null:e},_=function(e,t,n){var r,o,s,i;for(o=function(e){return function(r){var o,s,i;for(s in o={},r)w(s)||(i=r[s],o[s]=i===t?n:i);return n[a](e,o)}},s=0,i=e.length;s<i;s++)r=e[s],n._has(r)&&(t["on"+r]=o(r))},O=function(e){var t;if(x&&null!=x.createEventObject)return(t=x.createEventObject()).type=e,t;try{return new Event(e)}catch(t){return{type:e}}},(M=(i=function(e){var t,n,r;return n={},r=function(e){return n[e]||[]},(t={})[d]=function(e,t,s){n[e]=r(e),n[e].indexOf(t)>=0||(s=s===o?n[e].length:s,n[e].splice(s,0,t))},t[l]=function(e,t){var s;e!==o?(t===o&&(n[e]=[]),-1!==(s=r(e).indexOf(t))&&r(e).splice(s,1)):n={}},t[a]=function(){var n,o,s,i,a,u,c;for(o=(n=R(arguments)).shift(),e||(n[0]=E(n[0],O(o))),(i=t["on"+o])&&i.apply(t,n),s=a=0,u=(c=r(o).concat(r("*"))).length;a<u;s=++a)c[s].apply(t,n)},t._has=function(e){return!(!n[e]&&!t["on"+e])},e&&(t.listeners=function(e){return R(r(e))},t.on=t[d],t.off=t[l],t.fire=t[a],t.once=function(e,n){var r;return r=function(){return t.off(e,r),n.apply(null,arguments)},t.on(e,r)},t.destroy=function(){return n={}}),t})(!0)).EventEmitter=i,M.before=function(e,t){if(e.length<1||e.length>2)throw"invalid hook";return M[d]("before",e,t)},M.after=function(e,t){if(e.length<2||e.length>3)throw"invalid hook";return M[d]("after",e,t)},M.enable=function(){h[m]=g,"function"==typeof y&&(h.fetch=y),c&&(h.FormData=v)},M.disable=function(){h[m]=M[m],h.fetch=M.fetch,c&&(h.FormData=c)},b=M.headers=function(e,t){var n,r,o,s,i,a,u,c,f;switch(null==t&&(t={}),typeof e){case"object":for(o in r=[],e)i=e[o],s=o.toLowerCase(),r.push(s+":\t"+i);return r.join("\n")+"\n";case"string":for(u=0,c=(r=e.split("\n")).length;u<c;u++)n=r[u],/([^:]+):\s*(.+)/.test(n)&&(s=null!=(f=RegExp.$1)?f.toLowerCase():void 0,a=RegExp.$2,null==t[s]&&(t[s]=a));return t}},c=h.FormData,v=function(e){var t,n;this.fd=e?new c(e):new c,this.form=e,t=[],Object.defineProperty(this,"entries",{get:function(){return(e?R(e.querySelectorAll("input,select")).filter((function(e){var t;return"checkbox"!==(t=e.type)&&"radio"!==t||e.checked})).map((function(e){return[e.name,"file"===e.type?e.files:e.value]})):[]).concat(t)}}),this.append=(n=this,function(){var e;return e=R(arguments),t.push(e),n.fd.append.apply(n.fd,e)})},c&&(M.FormData=c,h.FormData=v),f=h[m],M[m]=f,g=h[m]=function(){var e,t,n,r,o,u,c,f,l,h,y,g,w,x,O,R,k,S,C,N;k=new M[m],w=null,u=void 0,x=void 0,y=void 0,l=function(){var e,t,n,r;if(y.status=w||k.status,-1===w&&T<10||(y.statusText=k.statusText),-1!==w)for(e in r=b(k.getAllResponseHeaders()))n=r[e],y.headers[e]||(t=e.toLowerCase(),y.headers[t]=n)},f=function(){if(k.responseType&&"text"!==k.responseType)"document"===k.responseType?(y.xml=k.responseXML,y.data=k.responseXML):y.data=k.response;else{y.text=k.responseText,y.data=k.responseText;try{y.xml=k.responseXML}catch(e){}}"responseURL"in k&&(y.finalUrl=k.responseURL)},R=function(){o.status=y.status,o.statusText=y.statusText},O=function(){"text"in y&&(o.responseText=y.text),"xml"in y&&(o.responseXML=y.xml),"data"in y&&(o.response=y.data),"finalUrl"in y&&(o.responseURL=y.finalUrl)},n=function(n){for(;n>e&&e<4;)o.readyState=++e,1===e&&o[a]("loadstart",{}),2===e&&R(),4===e&&(R(),O()),o[a]("readystatechange",{}),4===e&&(!1===h.async?t():setTimeout(t,0))},t=function(){u||o[a]("load",{}),o[a]("loadend",{}),u&&(o.readyState=0)},e=0,g=function(e){var t,r;4===e?(t=M.listeners("after"),(r=function(){var e;return t.length?2===(e=t.shift()).length?(e(h,y),r()):3===e.length&&h.async?e(h,y,r):r():n(4)})()):n(e)},o=(h={}).xhr=i(),k.onreadystatechange=function(e){try{2===k.readyState&&l()}catch(e){}4===k.readyState&&(x=!1,l(),f()),g(k.readyState)},c=function(){u=!0},o[d]("error",c),o[d]("timeout",c),o[d]("abort",c),o[d]("progress",(function(){e<3?g(3):o[a]("readystatechange",{})})),("withCredentials"in k||M.addWithCredentials)&&(o.withCredentials=!1),o.status=0;for(S=0,C=(N=s.concat(p)).length;S<C;S++)r=N[S],o["on"+r]=null;return o.open=function(t,n,r,o,s){e=0,u=!1,x=!1,h.headers={},h.headerNames={},h.status=0,(y={}).headers={},h.method=t,h.url=n,h.async=!1!==r,h.user=o,h.pass=s,g(1)},o.send=function(e){var t,n,r,i,a,u,c,f;for(u=0,c=(f=["type","timeout","withCredentials"]).length;u<c;u++)(r="type"===(n=f[u])?"responseType":n)in o&&(h[n]=o[r]);h.body=e,a=function(){var e,t,i,a,u,c;for(_(s,k,o),o.upload&&_(s.concat(p),k.upload,o.upload),x=!0,k.open(h.method,h.url,h.async,h.user,h.pass),i=0,a=(u=["type","timeout","withCredentials"]).length;i<a;i++)r="type"===(n=u[i])?"responseType":n,n in h&&(k[r]=h[n]);for(e in c=h.headers)t=c[e],e&&k.setRequestHeader(e,t);h.body instanceof v&&(h.body=h.body.fd),k.send(h.body)},t=M.listeners("before"),(i=function(){var e,n;return t.length?((e=function(e){if("object"==typeof e&&("number"==typeof e.status||"number"==typeof y.status))return E(e,y),j.call(e,"data")<0&&(e.data=e.response||e.text),void g(4);i()}).head=function(e){return E(e,y),g(2)},e.progress=function(e){return E(e,y),g(3)},1===(n=t.shift()).length?e(n(h)):2===n.length&&h.async?n(h,e):e()):a()})()},o.abort=function(){w=-1,x?k.abort():o[a]("abort",{})},o.setRequestHeader=function(e,t){var n,r;n=null!=e?e.toLowerCase():void 0,r=h.headerNames[n]=h.headerNames[n]||e,h.headers[r]&&(t=h.headers[r]+", "+t),h.headers[r]=t},o.getResponseHeader=function(e){var t;return t=null!=e?e.toLowerCase():void 0,L(y.headers[t])},o.getAllResponseHeaders=function(){return L(b(y.headers))},k.overrideMimeType&&(o.overrideMimeType=function(){return k.overrideMimeType.apply(k,arguments)}),k.upload&&(o.upload=h.upload=i()),o.UNSENT=0,o.OPENED=1,o.HEADERS_RECEIVED=2,o.LOADING=3,o.DONE=4,o.response="",o.responseText="",o.responseXML=null,o.readyState=0,o.statusText="",o},"function"==typeof h.fetch&&(u=h.fetch,M.fetch=u,y=h.fetch=function(e,t){var n,r,o;return null==t&&(t={headers:{}}),t.url=e,o=null,r=M.listeners("before"),n=M.listeners("after"),new Promise((function(e,s){var i,a,c,f,l;a=function(){return t.body instanceof v&&(t.body=t.body.fd),t.headers&&(t.headers=new Headers(t.headers)),o||(o=new Request(t.url,t)),E(t,o)},c=function(t){var r;return n.length?2===(r=n.shift()).length?(r(a(),t),c(t)):3===r.length?r(a(),t,c):c(t):e(t)},i=function(t){var n;if(void 0!==t)return n=new Response(t.body||t.text,t),e(n),void c(n);f()},f=function(){var e;if(r.length)return 1===(e=r.shift()).length?i(e(t)):2===e.length?e(a(),i):void 0;l()},l=function(){return u(a()).then((function(e){return c(e)})).catch((function(e){return c(e),s(e)}))},f()}))}),g.UNSENT=0,g.OPENED=1,g.HEADERS_RECEIVED=2,g.LOADING=3,g.DONE=4,(r=function(){return M}.apply(t,[]))===o||(e.exports=r)}).call(this)}).call(this,n(5))},58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this._id=0}getId(){return this._id++,this._id}}},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this._collector={}}dispatch(e,t){this._collector[e]?this._collector[e](t):this._defaultListner(t)}addLister(e,t){this._collector[e]=t}createDefaultListener(e){this._defaultListner=e}}}});
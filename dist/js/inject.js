!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=56)}({56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57),o=n(58),s=n(62),a=new(n(63).default),i=new s.default,u=new s.default;window.addEventListener("message",(function(e){if(e.source!=window)return;const t=e.data;"HOOK_SCRIPT"===t.to&&a.dispatch(t.id,t.message)}));const c=(e,t,n)=>{const r=n?i.getId():null,o={id:r,message:e,to:"CONTENT_SCRIPT",from:"HOOK_SCRIPT",extenstionName:"MOKKU",type:t};if(window.postMessage(o,"*"),null!==r)return new Promise(e=>{a.addLister(r,e)})};r.before((function(e,t){const n=e.url.indexOf("?");-1!==n?e.url.substr(0,n):e.url,-1!==n&&JSON.stringify(o.parse(e.url.substr(n)));e.mokku={id:u.getId()};const r=l(e);c(r,"LOG",!1),c(r,"QUERY",!0).then(e=>{if(e&&e.mockResponse){const n=e.mockResponse,r={status:n.status,text:n.response?n.response:"",type:"json",headers:{"content-type":"application/json; charset=UTF-8"}};n.delay?setTimeout(()=>{t(r)},n.delay):t(r)}else t()}).catch(()=>{console.log("something went wrong!")})}));const l=(e,t)=>{var n;const r=e.url.indexOf("?"),s=-1!==r?e.url.substr(0,r):e.url,a=-1!==r?JSON.stringify(o.parse(e.url.substr(r))):void 0;return{request:{url:s,body:e.body,queryParams:a,method:e.method},response:t,id:null===(n=e.mokku)||void 0===n?void 0:n.id}};r.after((function(e,t){try{if("function"==typeof t.clone){const n=t.clone();if("string"==typeof n.text){const t=l(e,{status:n.status,response:n.text});c(t,"LOG",!1)}else n.text().then(t=>{const r=l(e,{status:n.status,response:t});c(r,"LOG",!1)})}else{const n=l(e,{status:t.status,response:"string"==typeof t.text?t.text:"Cannot parse response, logging libraries can cause this."});c(n,"LOG",!1)}}catch(e){console.log("INJECT_ERROR",e)}}))},57:function(e,t,n){(function(n){var r;(function(o){var s,a,i,u,c,l,f,d,p,y,h,g,m,v,b,x,O,w,j,E,S,R,N,L,T,C,k=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};y=null,y="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:void 0!==n?n:window,O=y.document,d="addEventListener",f="removeEventListener",i="dispatchEvent",v="XMLHttpRequest",p=["load","loadend","loadstart"],s=["progress","abort","error","timeout"],L="undefined"!=typeof navigator&&navigator.useragent?navigator.userAgent:"",E=parseInt((/msie (\d+)/.exec(L.toLowerCase())||[])[1]),isNaN(E)&&(E=parseInt((/trident\/.*; rv:(\d+)/.exec(L.toLowerCase())||[])[1])),(C=Array.prototype).indexOf||(C.indexOf=function(e){var t,n,r;for(t=n=0,r=this.length;n<r;t=++n)if(this[t]===e)return t;return-1}),N=function(e,t){return Array.prototype.slice.call(e,t)},x=function(e){return"returnValue"===e||"totalSize"===e||"position"===e},j=function(e,t){var n;for(n in e)if(e[n],!x(n))try{t[n]=e[n]}catch(e){}return t},S=function(e){return void 0===e?null:e},R=function(e,t,n){var r,o,s,a;for(o=function(e){return function(r){var o,s,a;for(s in o={},r)x(s)||(a=r[s],o[s]=a===t?n:a);return n[i](e,o)}},s=0,a=e.length;s<a;s++)r=e[s],n._has(r)&&(t["on"+r]=o(r))},w=function(e){var t;if(O&&null!=O.createEventObject)return(t=O.createEventObject()).type=e,t;try{return new Event(e)}catch(t){return{type:e}}},(T=(a=function(e){var t,n,r;return n={},r=function(e){return n[e]||[]},(t={})[d]=function(e,t,s){n[e]=r(e),n[e].indexOf(t)>=0||(s=s===o?n[e].length:s,n[e].splice(s,0,t))},t[f]=function(e,t){var s;e!==o?(t===o&&(n[e]=[]),-1!==(s=r(e).indexOf(t))&&r(e).splice(s,1)):n={}},t[i]=function(){var n,o,s,a,i,u,c;for(o=(n=N(arguments)).shift(),e||(n[0]=j(n[0],w(o))),(a=t["on"+o])&&a.apply(t,n),s=i=0,u=(c=r(o).concat(r("*"))).length;i<u;s=++i)c[s].apply(t,n)},t._has=function(e){return!(!n[e]&&!t["on"+e])},e&&(t.listeners=function(e){return N(r(e))},t.on=t[d],t.off=t[f],t.fire=t[i],t.once=function(e,n){var r;return r=function(){return t.off(e,r),n.apply(null,arguments)},t.on(e,r)},t.destroy=function(){return n={}}),t})(!0)).EventEmitter=a,T.before=function(e,t){if(e.length<1||e.length>2)throw"invalid hook";return T[d]("before",e,t)},T.after=function(e,t){if(e.length<2||e.length>3)throw"invalid hook";return T[d]("after",e,t)},T.enable=function(){y[v]=m,"function"==typeof h&&(y.fetch=h),c&&(y.FormData=g)},T.disable=function(){y[v]=T[v],y.fetch=T.fetch,c&&(y.FormData=c)},b=T.headers=function(e,t){var n,r,o,s,a,i,u,c,l;switch(null==t&&(t={}),typeof e){case"object":for(o in r=[],e)a=e[o],s=o.toLowerCase(),r.push(s+":\t"+a);return r.join("\n")+"\n";case"string":for(u=0,c=(r=e.split("\n")).length;u<c;u++)n=r[u],/([^:]+):\s*(.+)/.test(n)&&(s=null!=(l=RegExp.$1)?l.toLowerCase():void 0,i=RegExp.$2,null==t[s]&&(t[s]=i));return t}},c=y.FormData,g=function(e){var t,n;this.fd=e?new c(e):new c,this.form=e,t=[],Object.defineProperty(this,"entries",{get:function(){return(e?N(e.querySelectorAll("input,select")).filter((function(e){var t;return"checkbox"!==(t=e.type)&&"radio"!==t||e.checked})).map((function(e){return[e.name,"file"===e.type?e.files:e.value]})):[]).concat(t)}}),this.append=(n=this,function(){var e;return e=N(arguments),t.push(e),n.fd.append.apply(n.fd,e)})},c&&(T.FormData=c,y.FormData=g),l=y[v],T[v]=l,m=y[v]=function(){var e,t,n,r,o,u,c,l,f,y,h,m,x,O,w,N,L,C,_,F;L=new T[v],x=null,u=void 0,O=void 0,h=void 0,f=function(){var e,t,n,r;if(h.status=x||L.status,-1===x&&E<10||(h.statusText=L.statusText),-1!==x)for(e in r=b(L.getAllResponseHeaders()))n=r[e],h.headers[e]||(t=e.toLowerCase(),h.headers[t]=n)},l=function(){if(L.responseType&&"text"!==L.responseType)"document"===L.responseType?(h.xml=L.responseXML,h.data=L.responseXML):h.data=L.response;else{h.text=L.responseText,h.data=L.responseText;try{h.xml=L.responseXML}catch(e){}}"responseURL"in L&&(h.finalUrl=L.responseURL)},N=function(){o.status=h.status,o.statusText=h.statusText},w=function(){"text"in h&&(o.responseText=h.text),"xml"in h&&(o.responseXML=h.xml),"data"in h&&(o.response=h.data),"finalUrl"in h&&(o.responseURL=h.finalUrl)},n=function(n){for(;n>e&&e<4;)o.readyState=++e,1===e&&o[i]("loadstart",{}),2===e&&N(),4===e&&(N(),w()),o[i]("readystatechange",{}),4===e&&(!1===y.async?t():setTimeout(t,0))},t=function(){u||o[i]("load",{}),o[i]("loadend",{}),u&&(o.readyState=0)},e=0,m=function(e){var t,r;4===e?(t=T.listeners("after"),(r=function(){var e;return t.length?2===(e=t.shift()).length?(e(y,h),r()):3===e.length&&y.async?e(y,h,r):r():n(4)})()):n(e)},o=(y={}).xhr=a(),L.onreadystatechange=function(e){try{2===L.readyState&&f()}catch(e){}4===L.readyState&&(O=!1,f(),l()),m(L.readyState)},c=function(){u=!0},o[d]("error",c),o[d]("timeout",c),o[d]("abort",c),o[d]("progress",(function(){e<3?m(3):o[i]("readystatechange",{})})),("withCredentials"in L||T.addWithCredentials)&&(o.withCredentials=!1),o.status=0;for(C=0,_=(F=s.concat(p)).length;C<_;C++)r=F[C],o["on"+r]=null;return o.open=function(t,n,r,o,s){e=0,u=!1,O=!1,y.headers={},y.headerNames={},y.status=0,(h={}).headers={},y.method=t,y.url=n,y.async=!1!==r,y.user=o,y.pass=s,m(1)},o.send=function(e){var t,n,r,a,i,u,c,l;for(u=0,c=(l=["type","timeout","withCredentials"]).length;u<c;u++)(r="type"===(n=l[u])?"responseType":n)in o&&(y[n]=o[r]);y.body=e,i=function(){var e,t,a,i,u,c;for(R(s,L,o),o.upload&&R(s.concat(p),L.upload,o.upload),O=!0,L.open(y.method,y.url,y.async,y.user,y.pass),a=0,i=(u=["type","timeout","withCredentials"]).length;a<i;a++)r="type"===(n=u[a])?"responseType":n,n in y&&(L[r]=y[n]);for(e in c=y.headers)t=c[e],e&&L.setRequestHeader(e,t);y.body instanceof g&&(y.body=y.body.fd),L.send(y.body)},t=T.listeners("before"),(a=function(){var e,n;return t.length?((e=function(e){if("object"==typeof e&&("number"==typeof e.status||"number"==typeof h.status))return j(e,h),k.call(e,"data")<0&&(e.data=e.response||e.text),void m(4);a()}).head=function(e){return j(e,h),m(2)},e.progress=function(e){return j(e,h),m(3)},1===(n=t.shift()).length?e(n(y)):2===n.length&&y.async?n(y,e):e()):i()})()},o.abort=function(){x=-1,O?L.abort():o[i]("abort",{})},o.setRequestHeader=function(e,t){var n,r;n=null!=e?e.toLowerCase():void 0,r=y.headerNames[n]=y.headerNames[n]||e,y.headers[r]&&(t=y.headers[r]+", "+t),y.headers[r]=t},o.getResponseHeader=function(e){var t;return t=null!=e?e.toLowerCase():void 0,S(h.headers[t])},o.getAllResponseHeaders=function(){return S(b(h.headers))},L.overrideMimeType&&(o.overrideMimeType=function(){return L.overrideMimeType.apply(L,arguments)}),L.upload&&(o.upload=y.upload=a()),o.UNSENT=0,o.OPENED=1,o.HEADERS_RECEIVED=2,o.LOADING=3,o.DONE=4,o.response="",o.responseText="",o.responseXML=null,o.readyState=0,o.statusText="",o},"function"==typeof y.fetch&&(u=y.fetch,T.fetch=u,h=y.fetch=function(e,t){var n,r,o;return null==t&&(t={headers:{}}),t.url=e,o=null,r=T.listeners("before"),n=T.listeners("after"),new Promise((function(e,s){var a,i,c,l,f;i=function(){return t.body instanceof g&&(t.body=t.body.fd),t.headers&&(t.headers=new Headers(t.headers)),o||(o=new Request(t.url,t)),j(t,o)},c=function(t){var r;return n.length?2===(r=n.shift()).length?(r(i(),t),c(t)):3===r.length?r(i(),t,c):c(t):e(t)},a=function(t){var n;if(void 0!==t)return n=new Response(t.body||t.text,t),e(n),void c(n);l()},l=function(){var e;if(r.length)return 1===(e=r.shift()).length?a(e(t)):2===e.length?e(i(),a):void 0;f()},f=function(){return u(i()).then((function(e){return c(e)})).catch((function(e){return c(e),s(e)}))},l()}))}),m.UNSENT=0,m.OPENED=1,m.HEADERS_RECEIVED=2,m.LOADING=3,m.DONE=4,(r=function(){return T}.apply(t,[]))===o||(e.exports=r)}).call(this)}).call(this,n(6))},58:function(e,t,n){"use strict";const r=n(59),o=n(60),s=n(61);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function i(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?o(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===n?n:u(n,e);r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){let[e,a]=s(t.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:u(a,t),n(u(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=f(n[e],t);else r[e]=f(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=l,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[i(t,e),"[",o,"]"].join("")]:[...n,[i(t,e),"[",i(o,e),"]=",i(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[i(t,e),"[]"].join("")]:[...n,[i(t,e),"[]=",i(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[i(t,e),"=",i(r,e)].join("")]:[[n,i(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,i(t,e)]:[...n,[i(t,e),"=",i(r,e)].join("")]}}(t),o={};for(const t of Object.keys(e))n(t)||(o[t]=e[t]);const s=Object.keys(o);return!1!==t.sort&&s.sort(t.sort),s.map(n=>{const o=e[n];return void 0===o?"":null===o?i(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):i(n,t)+"="+i(o,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=s(e,"#");return Object.assign({url:n.split("?")[0]||"",query:d(l(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=c(e.url).split("?")[0]||"",o=t.extract(e.url),s=t.parse(o),a=Object.assign(s,e.query);let u=t.stringify(a,n);u&&(u="?"+u);let l=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(l="#"+i(e.fragmentIdentifier,n)),`${r}${u}${l}`}},59:function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},6:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},60:function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function s(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s(n),s(r))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=s(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),i=0;i<s.length;i++){var u=s[i];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},61:function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},62:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this._id=0}getId(){return this._id++,this._id}}},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this._collector={}}dispatch(e,t){this._collector[e]?this._collector[e](t):this._defaultListner(t)}addLister(e,t){this._collector[e]=t}createDefaultListener(e){this._defaultListner=e}}}});